# Services for Tado X integration

set_temperature_offset:
  name: Set temperature offset
  description: Adjust the temperature offset for a Tado X device (valve or sensor). This calibrates the device's temperature reading.
  fields:
    device_id:
      name: Device
      description: The Tado X device to calibrate
      required: true
      selector:
        device:
          integration: tado_x
    offset:
      name: Temperature offset
      description: Temperature offset in °C. Positive values make the device read higher, negative values make it read lower.
      required: true
      example: -2.0
      selector:
        number:
          min: -9.9
          max: 9.9
          step: 0.1
          unit_of_measurement: "°C"

add_meter_reading:
  name: Add meter reading
  description: Upload a meter reading to Tado Energy IQ
  fields:
    reading:
      name: Reading
      description: Meter reading value (integer)
      required: true
      example: 12345
      selector:
        number:
          min: 0
          max: 999999999
          mode: box
    date:
      name: Date
      description: Date of reading (YYYY-MM-DD format, defaults to today)
      required: false
      example: "2026-01-14"
      selector:
        text:

set_eiq_tariff:
  name: Set energy tariff
  description: Set an energy tariff in Tado Energy IQ for cost calculations
  fields:
    tariff:
      name: Tariff
      description: Price per unit (e.g., 0.85 for €0.85/m³)
      required: true
      example: 0.85
      selector:
        number:
          min: 0
          max: 100
          step: 0.01
          mode: box
    unit:
      name: Unit
      description: Energy unit type
      required: true
      example: "m3"
      selector:
        select:
          options:
            - label: "Cubic meters (m³)"
              value: "m3"
            - label: "Kilowatt hours (kWh)"
              value: "kWh"
    start_date:
      name: Start date
      description: Start date for the tariff (YYYY-MM-DD format, defaults to today)
      required: false
      example: "2026-01-01"
      selector:
        text:
    end_date:
      name: End date
      description: End date for the tariff (YYYY-MM-DD format, leave empty for ongoing tariff)
      required: false
      example: "2026-12-31"
      selector:
        text:

set_climate_timer:
  name: Set climate timer
  description: Set a room temperature for a specific duration. Useful for temporary overrides like a quick boost or extending heating.
  target:
    entity:
      integration: tado_x
      domain: climate
  fields:
    entity_id:
      name: Climate entity
      description: The Tado X climate entity (room) to control
      required: true
      example: "climate.living_room"
      selector:
        entity:
          integration: tado_x
          domain: climate
    temperature:
      name: Temperature
      description: Target temperature in °C
      required: true
      example: 22.0
      selector:
        number:
          min: 5.0
          max: 25.0
          step: 0.5
          unit_of_measurement: "°C"
    duration:
      name: Duration
      description: Duration in minutes (1-1440, i.e., up to 24 hours)
      required: true
      example: 30
      selector:
        number:
          min: 1
          max: 1440
          step: 1
          unit_of_measurement: "min"
    termination_type:
      name: Termination type
      description: How long the override should stay active
      required: false
      default: "TIMER"
      example: "TIMER"
      selector:
        select:
          options:
            - label: "Timer"
              value: "TIMER"
            - label: "Manual"
              value: "MANUAL"
            - label: "Next time block"
              value: "NEXT_TIME_BLOCK"
